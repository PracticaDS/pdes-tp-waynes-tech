(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,a,n){},function(e,a){},,function(e,a,n){e.exports=n.p+"static/media/delete.6e7a49f4.PNG"},function(e,a,n){e.exports=n.p+"static/media/rotate.d45efe18.PNG"},function(e,a,n){e.exports=n.p+"static/media/move.cbfcb2fb.PNG"},function(e,a,n){e.exports=n.p+"static/media/crafter.42bc2297.PNG"},function(e,a,n){e.exports=n.p+"static/media/starter.8d09d4f3.PNG"},function(e,a,n){e.exports=n.p+"static/media/furnace.617ec208.PNG"},function(e,a,n){e.exports=n.p+"static/media/seller.3d538c9e.PNG"},function(e,a,n){e.exports=n.p+"static/media/transporter.00687f2e.PNG"},function(e,a,n){e.exports=n(45)},,function(e,a,n){},function(e,a,n){},,,,,,,,function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a){},function(e,a,n){"use strict";n.r(a);var t=n(0),i=n.n(t),r=(n(30),n(31),n(1)),c=(n(39),n(7)),o=n(8),l=n(10),u=n(9),s=n(11),m=(n(40),n(41),function(e){switch(e){case"NORTE":return"Maquina up";case"SUR":return"Maquina down";case"ESTE":return"Maquina left";case"OESTE":return"Maquina right";default:return"Maquina up"}}),d=function(e){var a=e.image,n=e.direccion;return i.a.createElement("div",{className:m(n)},i.a.createElement("img",{src:a,alt:"maquina"}))},f=function(e,a,n){var t=e.filter(function(e){return e.id===a&&e.idFila===n});return 0!==t.length&&void 0!==t[0].maquina?i.a.createElement(d,{image:t[0].maquina.image,direccion:t[0].maquina.direccion,mover:t[0].maquina.mover}):i.a.createElement("div",null,t[0].id+" "+t[0].idFila)},p=function(e){var a=e.onClickCelda,n=e.boton,t=e.id,r=e.fila,c=e.gameState;return i.a.createElement("div",{className:"celda",onClick:function(){return a(n,t,r)}},f(c.celdas,t,r))},E=Object(r.b)(function(e){return{botones:e.botones,gameState:e.gameState,configFabrica:e.configFabrica}},function(e){return{onClickCelda:function(a,n,t){e(function(e,a,n,t){return function(e,a,n,t){return{type:void 0===e?"@@INIT":e.action,boton:e,idCelda:a,idFila:n,ganancias:t}}(e,a,n)}(a,n,t))}}})(p),g=(n(42),function(e){function a(e){var n;return Object(c.a)(this,a),(n=Object(l.a)(this,Object(u.a)(a).call(this,e))).state={celdas:[]},n}return Object(s.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"fila"},this.dibujarCeldas())}},{key:"dibujarCeldas",value:function(){for(var e=[],a=1;a<=this.props.columnas;a++)this.props.celdaStore.length<this.props.columnas*this.props.filas&&this.props.celdaStore.push({id:a,idFila:this.props.index}),e.push(i.a.createElement(E,{key:a,id:a,boton:this.props.boton,fila:this.props.index,columna:a}));return this.celdas=e,e}}]),a}(t.Component)),b=function(e){var a=e.tickMaquinas;return i.a.createElement("div",null,i.a.createElement("button",{type:"button",className:"tickButton",onClick:function(){return a()}},"Start!"))},v=Object(r.b)(function(e){return{gameState:e.gameState,botones:e.botones,configFabrica:e.configFabrica}},function(e){return{tickMaquinas:function(){setInterval(function(){e({type:"TICK"})},3e3)}}})(b),q=function(e,a,n,t){for(var r=function(e){var a=e.filter(function(e){return"selected"===e.press});return 0===a.length?void 0:a[0]}(n),c=[],o=1;o<=e;o++)c.push(i.a.createElement(g,{key:o,index:o,columnas:a,boton:r,celdaStore:t.celdas,filas:e}));return c},h=function(e){var a=e.configFabrica,n=e.botones,t=e.gameState;return i.a.createElement("div",{className:"grilla"},q(a.numeroFilas,a.numeroColumnas,n,t),i.a.createElement(v,null))},O=Object(r.b)(function(e){return{gameState:e.gameState,botones:e.botones,configFabrica:e.configFabrica}},null)(h),F=(n(17),function(e){switch(e){case"selected":return"ButtonToolbox seleccionado";case"unselected":default:return"ButtonToolbox"}}),S=function(e){var a=e.onClick,n=e.image,t=e.press;return i.a.createElement("div",{className:F(t),onClick:a},i.a.createElement("img",{src:n,alt:"tool"}))},C=function(e){var a=e.botones,n=e.onButtonToolClick;return i.a.createElement("div",{className:"ToolBox"},i.a.createElement("h3",null,"M\xe1quinas"),i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(S,{onClick:function(){return n(a[0].id,a[0].name,a[0].price)},image:a[0].image,press:a[0].press})),i.a.createElement("td",null,i.a.createElement(S,{onClick:function(){return n(a[1].id,a[1].name,a[1].price)},image:a[1].image,press:a[1].press}))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(S,{onClick:function(){return n(a[2].id,a[2].name,a[2].price)},image:a[2].image,press:a[2].press})),i.a.createElement("td",null,i.a.createElement(S,{onClick:function(){return n(a[3].id,a[3].name,a[3].price)},image:a[3].image,press:a[3].press}))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(S,{onClick:function(){return n(a[4].id,a[4].name,a[4].price)},image:a[4].image,press:a[4].press}))))),i.a.createElement("h3",null,"Edici\xf3n"),i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(S,{onClick:function(){return n(a[5].id,a[5].name,a[5].price)},image:a[5].image,press:a[5].press})),i.a.createElement("td",null,i.a.createElement(S,{onClick:function(){return n(a[6].id,a[6].name,a[6].price)},image:a[6].image,press:a[6].press}))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(S,{onClick:function(){return n(a[7].id,a[7].name,a[7].price)},image:a[7].image,press:a[7].press}))))))},N=Object(r.b)(function(e){return{botones:e.botones}},function(e){return{onButtonToolClick:function(a,n,t){e(function(e,a,n){return{type:"SELECT",id:e,name:a,price:n}}(a,n,t))}}})(C),R=(n(43),function(e){function a(){return Object(c.a)(this,a),Object(l.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(s.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"Infobox"},i.a.createElement("h3",null,"Detalles"),i.a.createElement("div",{className:"InfoBoxContenido"},i.a.createElement("h2",null," Ganancias: ","$ "+this.props.gameState.statusInfoBox.ganancias+",00"),i.a.createElement("div",null,this.props.gameState.statusInfoBox.detalle),i.a.createElement("div",null,i.a.createElement("div",null,this.props.gameState.statusInfoBox.costo>0?"$ "+this.props.gameState.statusInfoBox.costo+",00":""))))}}]),a}(t.Component)),k=Object(r.b)(function(e){return{configFabrica:e.configFabrica,botones:e.botones,gameState:e.gameState}},null)(R),I=function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"Container"},i.a.createElement("h1",null,"Wayne's Tech"),i.a.createElement("div",{className:"App"},i.a.createElement(N,null),i.a.createElement(O,null),i.a.createElement(k,null))))},x=n(20),T=n.n(x),A=n(21),j=n.n(A),B=n(22),w=n.n(B),G=n(23),_=n.n(G),y=n(24),M=n.n(y),U=n(25),P=n.n(U),Q=n(26),D=n.n(Q),L=n(27),V=n.n(L),X={botones:[{image:M.a,press:"unselected",id:1,action:"AGREGAR_MAQUINA",name:"Starter",price:600},{image:D.a,press:"unselected",id:2,action:"AGREGAR_MAQUINA",name:"Seller",price:350},{image:_.a,press:"unselected",id:3,action:"AGREGAR_MAQUINA",name:"Crafter",price:450},{image:P.a,press:"unselected",id:4,action:"AGREGAR_MAQUINA",name:"Furnace",price:300},{image:V.a,press:"unselected",id:5,action:"AGREGAR_MAQUINA",name:"Transporter",price:100},{image:T.a,press:"unselected",id:6,action:"BORRAR",name:"",price:0},{image:j.a,press:"unselected",id:7,action:"ROTAR",name:"",price:0},{image:w.a,press:"unselected",id:8,action:"MOVER",name:"",price:0}],configFabrica:{numeroFilas:10,numeroColumnas:8},gameState:{celdas:[],statusInfoBox:{detalle:"",costo:0,ganancias:5e3}}},J=n(6),K=n(4),$=n(2),W=(n(18),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SELECT":return function(e,a){return e.map(function(e){return e.id!==a?Object($.a)({},e,{press:"unselected"}):Object($.a)({},e,{press:"selected"})})}(e,a.id);default:return e}}),z=(n(44),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case"@@INIT":default:return e}}),H=function(e,a){return{celdas:e,statusInfoBox:a}},Y=function(e,a){var n=function(e,a){var n=e.id,t=e.idFila;if(void 0!==e.maquina){switch(e.maquina.direccion){case"SUR":n+=1;break;case"NORTE":n-=1;break;case"OESTE":t-=1;break;default:t+=1}return a.filter(function(e){return e.id===n&&e.idFila===t})[0]}return e}(e,a);void 0!==n&&void 0!==n.maquina&&(console.log("maquina "+e.id+" "+e.idFila+" paso "+e.maquina.materiales+" a maquina "+n.id+" "+n.idFila),n.maquina.materiales=n.maquina.materiales+e.maquina.materiales),e.maquina.materiales=0},Z=function(e,a,n){return e.maquina.image.includes("starter")?e.maquina.materiales>0?(console.log("starter "+e.id+" "+e.idFila+" tiene "+e.maquina.materiales),Y(e,a),console.log("starter "+e.id+" "+e.idFila+" tiene "+e.maquina.materiales)):e.maquina.materiales=e.maquina.materiales+1:e.maquina.image.includes("transporter")?e.maquina.materiales>0&&(console.log("trans "+e.id+" "+e.idFila+" tiene "+e.maquina.materiales),Y(e,a),console.log("trans "+e.id+" "+e.idFila+" tiene "+e.maquina.materiales)):e.maquina.image.includes("seller")&&e.maquina.materiales>0&&(console.log("seller "+e.id+" "+e.idFila+" tiene "+e.maquina.materiales),n.ganancias=n.ganancias+10*e.maquina.materiales,e.maquina.materiales=0,console.log("seller "+e.id+" "+e.idFila+" tiene "+e.maquina.materiales)),e},ee=function(e,a){for(var n=[],t=0;t<=e.length-1;t++)void 0!==e[t].maquina?n.push(Z(e[t],e,a)):n.push(e[t]);return n},ae=function(e,a,n,t){var i=function(e,a,n){var t=e.filter(function(e){return e.id===a&&e.idFila===n});return 0!==t.length?t[0]:void 0}(e,n,t);if(void 0!==i.maquina)return i.maquina.mover=!0,e.map(function(e){return e.id===n&&e.idFila===t?i:e});var r=e.filter(function(e){return void 0!==e.maquina&&e.maquina.mover}),c=r[r.length-1];if(void 0!==c){var o={id:c.id,idFila:c.idFila,maquina:{direccion:c.maquina.direccion,image:c.maquina.image,materiales:c.maquina.materiales}};return e.map(function(e){return void 0===e.maquina?function(e,a,n,t){return e.id===a&&e.idFila===n&&void 0!==t&&(e.maquina={direccion:t.maquina.direccion,image:t.maquina.image,mover:!1,materiales:t.maquina.materiales}),e}(e,n,t,o):function(e,a){return e.id===a.id&&e.idFila===a.idFila&&a.maquina.mover&&(a.maquina=void 0),a}(c,e)})}return e},ne=function(e,a,n,t){return e.map(function(e){return e.id===n&&e.idFila===t&&void 0!==e.maquina?Object($.a)({},e,{maquina:te(e.maquina)}):e})},te=function(e){switch(e.direccion){case"NORTE":e.direccion="ESTE";break;case"ESTE":e.direccion="SUR";break;case"SUR":e.direccion="OESTE";break;case"OESTE":e.direccion="NORTE"}return e},ie=function(e,a,n,t,i){return i.ganancias>=a.price?(i.ganancias=i.ganancias-a.price,e.map(function(e){return e.id===n&&e.idFila===t?Object($.a)({},e,{maquina:{image:a.image,direccion:"SUR",mover:!1,materiales:0}}):e})):e},re=function(e,a,n,t){return e.map(function(e){return e.id===n&&e.idFila===t?Object($.a)({},e,{maquina:void 0}):e})},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"AGREGAR_MAQUINA":return H(ie(e.celdas,a.boton,a.idCelda,a.idFila,e.statusInfoBox),e.statusInfoBox);case"ROTAR":return H(ne(e.celdas,a.boton,a.idCelda,a.idFila),e.statusInfoBox);case"BORRAR":return H(re(e.celdas,a.boton,a.idCelda,a.idFila),e.statusInfoBox);case"MOVER":return H(ae(e.celdas,a.boton,a.idCelda,a.idFila),e.statusInfoBox);case"TICK":return H(ee(e.celdas,e.statusInfoBox),e.statusInfoBox);default:return e}},oe=Object(K.b)({botones:W,configFabrica:z,gameState:ce}),le=Object(K.c)(oe,X,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0,traceLimit:25})),ue=document.getElementById("root");if(!ue)throw new Error("couldn't find element with id root");Object(J.render)(i.a.createElement(r.a,{store:le},i.a.createElement(I,null)),ue)}],[[28,1,2]]]);
//# sourceMappingURL=main.d1dfb5e3.chunk.js.map